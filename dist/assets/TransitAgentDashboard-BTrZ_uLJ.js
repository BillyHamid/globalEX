import{r as o,j as t}from"./react-PleRxLNr.js";import{T as h,A as D}from"./AdministrationTrackingManager-Bav_p-oC.js";import{K as x}from"./KPICard-Cu82P0ks.js";import"./DataTable-CWvM5oaM.js";import"./lucide-DAQsc5bm.js";const v=[{id:"TF-001",reference:"DAU-2024-001",fileType:"DAU",status:"approved",creationDate:"2024-01-10",submissionDate:"2024-01-12",approvalDate:"2024-01-15",goodsDescription:"Machines agricoles neuves",originCountry:"France",destinationCountry:"Burkina Faso",estimatedDuties:25e5,actualDuties:245e4,assignedAgent:"agent_transit1",client:"AgriEquip SA"},{id:"TF-002",reference:"DSI-2024-001",fileType:"DSI",status:"in_progress",creationDate:"2024-01-14",goodsDescription:"Produits chimiques industriels",originCountry:"Allemagne",destinationCountry:"Burkina Faso",estimatedDuties:18e5,actualDuties:0,assignedAgent:"agent_transit1",client:"Chemical Industries Ltd"}],f=[{id:"TAR-001",code:"8432.10.00",description:"Tracteurs agricoles",dutyRate:10,vatRate:18,additionalTaxes:[{id:"AT-001",type:"TSP",rate:1,calculationBase:"value"},{id:"AT-002",type:"FST",rate:.5,calculationBase:"value"}],validFrom:"2024-01-01"}],A=[{id:"TRK-001",fileId:"TF-001",administration:"Direction des Douanes",status:"approved",updateDate:"2024-01-15T10:30:00",comments:"Dossier complet approuvé"},{id:"TRK-002",fileId:"TF-001",administration:"ONAM",status:"approved",updateDate:"2024-01-14T14:20:00",comments:"Conformité sanitaire OK"},{id:"TRK-003",fileId:"TF-002",administration:"Direction des Douanes",status:"processing",updateDate:"2024-01-16T09:15:00",comments:"En attente de document complémentaire"}],w=()=>{const[s,d]=o.useState(v),[a,c]=o.useState(f),[n,l]=o.useState(A),u=[{label:"Dossiers en cours",value:s.filter(e=>e.status==="in_progress").length.toString(),change:12,trend:"up",icon:"Package"},{label:"Dossiers traités ce mois",value:"24",change:8,trend:"up",icon:"CheckCircle"},{label:"Dossiers en attente",value:s.filter(e=>e.status==="initiated").length.toString(),change:-5,trend:"down",icon:"Clock"},{label:"Taux d'approbation",value:"92%",change:3,trend:"up",icon:"TrendingUp"},{label:"Dossiers en retard",value:s.filter(e=>e.status==="in_progress"&&new Date(e.creationDate)<new Date(Date.now()-7*24*60*60*1e3)).length.toString(),change:-10,trend:"down",icon:"AlertTriangle"},{label:"Temps moyen de traitement",value:"2.3 jours",change:-.5,trend:"down",icon:"Timer"}],g=e=>{const i={...e,id:`TF-${s.length+1}`,creationDate:new Date().toISOString().split("T")[0],status:"initiated"};d([...s,i])},p=(e,i)=>{d(s.map(r=>r.id===e?{...r,...i}:r))},m=e=>{const i={...e,id:`TAR-${a.length+1}`};c([...a,i])},T=e=>{const i={...e,id:`TRK-${n.length+1}`};l([...n,i])};return t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-2xl p-8 shadow-xl",children:t.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Tableau de bord Agent Transit"}),t.jsx("p",{className:"text-blue-100 text-lg",children:"Gestion des dossiers de transit et suivis douaniers"})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((e,i)=>t.jsx(x,{kpi:e},i))}),t.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[t.jsx("div",{children:t.jsx(h,{files:s,classifications:a,onAddFile:g,onUpdateFile:p,onAddClassification:m})}),t.jsx("div",{children:t.jsx(D,{files:s,trackings:n,onTrackUpdate:T})})]})]})};export{w as TransitAgentDashboard};
